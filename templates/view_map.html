{% extends '_base.html' %}
{% block header %}
  <script>

    // Initialize and add the map
    function initMap() {
      // The location of Pittsburgh
      const pittsburgh = { lat: 40.4406, lng: -79.9959 };
      // The map, centered at Pittsburgh
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 10,
        center: pittsburgh,
      });

  /* list of recipes passed to frontend
  {% for i in list %}


      // add marker - this part works
      var marker = new google.maps.Marker({
        position: { lat: {{ i.get_latitude() }}, lng: {{ i.get_longitude() }} }, //{ lat: -25.344, lng: 131.036 }
        map: map,
        data: {{ i.as_json() | safe }}
      });

      marker.addListener("click", () => {
        document.getElementById("description").innerText = {{ "`"  + i.description + "`" }};
        document.getElementById("quantity").innerText =  {{ "`" + i.quantity + " bananas " + i.get_formatted_availability() + "`" }};
        document.getElementById("username").innerText = {{ "`" + i.username + "`" }};
        document.getElementById("time").innerText = {{ "`" + i.get_formatted_time() + "`" }};
        document.getElementById("picture").src = {{ "`" + i.picture + "`" }};
        
        var click = document.getElementById("collapseButton");
        click.click();
        
        

      });


  {% endfor %}
  */
    }


  </script>
{% endblock %}
{% block content %}
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="card"> 
            <!-- Interactive Map -->
            <div id="map"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-body">
              <h1 class="display-4" id="recipe_name">My Favorite Crepes</h1>
              <h6 class="card-subtitle my-2 text-muted" id="location_formatted">Location: Paris, France by Josh Ackerman</h6>
              <h3 class="" id="ingredients">Ingredients</h3>
              <p class="card-text">- 1 cup flour<br>- 1 cup milk<br>- 1 tsp salt<br>- 1 tsp sugar<br>- 1 lemon<br>- 1 tbsp butter<br>- 1 tbsp honey</p>
              <h3 class="" id="directions">Directions</h3>
              <p class="card-text" id="directions">1. Mix all of the ingredients together except for the butter<br>2. Heat up a nonstick pan<br>3. Add a little bit of the butter and spread around<br>4. Make crepes like normal</p>
              <a href="#" class="card-link">Leave a Comment</a>
              <a href="#" class="card-link">Rate this Recipe</a><a href="#" class="card-link">Back to Map</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}